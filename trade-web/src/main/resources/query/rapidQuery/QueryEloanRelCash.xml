<?xml version="1.0" encoding="UTF-8"?>
<querys id="abc">
	<query id="queryEloanCashList">
		<searchScript>
			SELECT
			er.ELOAN_CODE,
			ec.LOAN_SRV_CODE,
			er.RELEASE_AMOUNT,
			er.RELEASE_TIME,
			er.CONFIRM_STATUS,
			INFO.PROPERTY_ADDR,
			ec.CUST_NAME,
			ec.FIN_ORG_CODE,
			ec.EXCUTOR_ID,
			ec.EXCUTOR_TEAM
			FROM
			sctrans.T_TO_ELOAN_REL er
			LEFT JOIN sctrans.T_TO_ELOAN_CASE ec on
			ER.ELOAN_CODE=ec.ELOAN_CODE
			LEFT JOIN sctrans.T_TO_PROPERTY_INFO INFO
			ON INFO.CASE_CODE =
			ec.CASE_CODE
			LEFT JOIN sctrans.sys_user u ON
			ec.EXCUTOR_ID=u.ID
			<where>
				(ec.STATUS IS NULL OR ec.STATUS='VALID')
				<trim prefix="and" prefixOverrides="and|or">
					<if test= "#SYS_JOBCODE =='consultant'"> and
						ec.EXCUTOR_ID= #{sessionUserId} and ec.EXCUTOR_TEAM =#{serviceDepId}
					</if>
					<if
						test="#SYS_JOBCODE != 'consultant' and #SYS_USER_HR_ID== 
						'yucui_team' and #SYS_JOBCODE != 'TeamAssistant' "> and (ec.EXCUTOR_TEAM
						=#{serviceDepId} )
					</if>
					<if
						test="#SYS_USER_HR_ID == 'TeamAssistant' 
						and #SYS_JOBCODE == 'yucui_team' "> and ec.EXCUTOR_TEAM=#{serviceDepId}
					</if>
					<if test="#SYS_USER_HR_ID == 'yucui_district'"> and ec.EXCUTOR_DISTRICT
						=#{serviceDepId}
					</if>
				</trim>
			</where>
		</searchScript>
		<grid>
			<column name="ELOAN_CODE" title="ELOAN_CODE" hidden="true" />
			<column name="LOAN_SRV_CODE" field="LOAN_SRV_CODE" title="LOAN_SRV_CODE" hidden="true"
				customDict="qqcdDictServCode" />
			<column name="RELEASE_AMOUNT" title="RELEASE_AMOUNT" hidden="true" />
			<column name="RELEASE_TIME" title="RELEASE_TIME"  field="RELEASE_TIME" hidden="true" customDict="getFormatDate"  />
			<column name="CONFIRM_STATUS" title="CONFIRM_STATUS" hidden="true" />
			<column name="PROPERTY_ADDR" title="PROPERTY_ADDR" hidden="true" />
			<column name="CUST_NAME" title="CUST_NAME" hidden="true" />
			<column name="FIN_ORG_CODE" title="FIN_ORG_CODE" field="FIN_ORG_CODE" customDict="qqfinOrgIdName"
				hidden="true" />
			<column name="EXCUTOR_ID"  field="EXCUTOR_ID" customDict="qqcdUserIdName"
				title="EXCUTOR_ID" />
			<column name="EXCUTOR_TEAM" title="EXCUTOR_TEAM"  field="EXCUTOR_TEAM" customDict="qqcdOrgIdName" />
		</grid>
	</query>
</querys>