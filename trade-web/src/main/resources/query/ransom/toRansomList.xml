<?xml version="1.0" encoding="UTF-8"?>
<querys>
	<dicts>	
		<customDict id="qqcdUserIdName" beanName="qqcdUserIdName"/>
		<customDict id="qqcdDictEvaType" beanName="qqcdDictEvaType"/>
	</dicts>
	<formatters>
		<formatter id="dateFormatter" ref="" class="com.aist.common.quickQuery.formatter.DateFormatter">
			<properties>
				<property name="pattern">yyyy-MM-dd</property>
			</properties>
		</formatter>
	</formatters>
	<query id="ransomListItemList" cacheCount="true">
		<searchCondition></searchCondition>
		<searchSql>
			<baseSql>
				<![CDATA[
						SELECT 
							A.PKID PKID,
							A.CASE_CODE,
							RANSOM_CODE,
							PROPERTY_ADDR,
							AGENT_NAME,
							GRP_NAME,
							BORROWER_NAME,
							COM_ORG_CODE,
							RANSOM_STATUS,
							STOP_REASON,
							BORRO_MONEY,
							A.UPDATE_TIME
						FROM 
							sctrans.T_RA_CASE A
							INNER JOIN sctrans.T_TO_PROPERTY_INFO B ON A.CASE_CODE = B.CASE_CODE
							INNER JOIN sctrans.T_TO_CASE_INFO C ON A.CASE_CODE = C.CASE_CODE
						WHERE 1 = 1
						<ifNotNull ransomStatus>
							AND RANSOM_STATUS = #ransomStatus#
						</ifNotNull>
						<ifNotNull ransomProperty>
							AND RANSOM_PROPERTY = #ransomProperty#
						</ifNotNull>
						<ifNotNull teamCode>
							AND AGENT_NAME = #AGENT_NAME#
						</ifNotNull>
						<if test	="searchInfo==0">
							AND PROPERTY_ADDR like '%'+#inTextVal#+'%'
						</if>
						<if test	="searchInfo==1">
							AND AGENT_NAME like '%'+#inTextVal#+'%'
						</if>
						<if test	="searchInfo==2">
							AND BORROWER_NAME like '%'+#inTextVal#+'%'
						</if>
				]]>
			</baseSql>
			<orderBySql>
			  ORDER BY A.PKID DESC
			</orderBySql>
			<groupSql>
			</groupSql>
		</searchSql>
		<grid>
			<table-row>
			<column type="both" name="PKID" index="" checkbox="" display="ID" customDict="" sysDict="" format="" width="90" isSort="true" align="" halign=""  resizable=""/>
				<column type="both" name="CASE_CODE" display="案件编号"/>
				<column type="both" name="RANSOM_CODE" index="" checkbox="" display="合约编号" customDict="" sysDict="" format="" width="90" isSort="true" align="" halign="" order="desc" resizable=""/>
				<column type="both" name="STOP_REASON" index="" checkbox="" display="" customDict="" sysDict="" format="" width="90" isSort="true" align="" halign="" resizable=""/>
				<column type="both" name="PROPERTY_ADDR" index="" checkbox="" display="房屋地址" customDict="" sysDict="" format="" width="60" isSort="true" align="" halign="" order="" resizable=""/>
				<column type="both" name="AGENT_NAME,GRP_NAME" index="" checkbox="" display="案件归属" customDict="" sysDict="" format="" width="60" isSort="true" align="" halign="" order="" resizable=""/>
				<column type="both" name="BORROWER_NAME" index="" checkbox="" display="客户" customDict="" sysDict="" format="" width="60" isSort="true" align="" halign="" order="" resizable=""/>
				<column type="both" name="COM_ORG_CODE" index="" checkbox="" display="合作机构" customDict="" sysDict="" format=""  width="60" isSort="true" align="" halign="" order="" resizable="" />
				<column type="both" name="RANSOM_STATUS,UPDATE_TIME"  index="" checkbox="" display="最新状态" customDict="" sysDict="" format="yyyy-MM-dd"  width="120" isSort="true" beanFormatter="dateFormatter" expType="date" expFmt="yyyy-MM-dd"  align="" halign="" order="" resizable="" />
				<column type="both" name="BORRO_MONEY" index="" checkbox="" display="借款金额" customDict="" sysDict="" format="" width="60" isSort="true" align="" halign="" order="" resizable=""/>
			</table-row>
		</grid>
	</query>
</querys>